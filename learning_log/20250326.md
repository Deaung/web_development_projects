Home / Movieì»´í¬ë„ŒíŠ¸ / Detail

ì´ìƒì˜ í˜ì´ì§€ë¥¼ ê°ì‹¸ëŠ” App.jsx ê°€ ì¡´ì¬

Routingì´ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì 

### ì˜¤ë¥˜ ìˆ˜ì • ì‹œë„ ë°©ì‹

npm install react-route-dom@5.3.0 ìœ¼ë¡œ ì¬ì„¤ì¹˜
-> ì‹¤íŒ¨

ê¸ˆì¼ ì§„í–‰í•  ë°©ì‹
1. node_modules ì‚­ì œ
2. npm install
3. npm install react-router-dom@6
4. Router ê´€ë ¨ì´ ì ìš©ë˜ì–´ìˆëŠ” App.jsx / Detail.jsx ì¬ì„¤ì •
5. npm run dev í›„ detail í˜ì´ì§€ë¡œì˜ ì´ë™ì„ í™•ì¸
6. Detail.css ì‘ì„±

### react-router-dom@6 ë„ì… í›„ App.jsx

```jsx
import { BrowserRouter as Router, Routes, Route } from "react-router-dom";
import Home from "./routes/Home";
import Detail from "./routes/Detail";
import './App.css'

function App(){
  return(
    <Router>
      <Routes>
        {/* ë£¨íŠ¸ê²½ë¡œ */}
        <Route path="/"element={<Home />} />
        {/* ì˜í™” ìƒì„¸ ì •ë³´ */}
        <Route path="/movie/:id" element={<Detail/>}/>
      </Routes>
    </Router>
  )
}
export default App
```
v5ì™€ì˜ ê°€ì¥ í° ì°¨ì´ Switch ì»´í¬ë„ŒíŠ¸ê°€ ì—†ì–´ì§

```jsx
import { useState,useEffect } from "react";
import { useParams } from "react-router-dom";

function Detail(){
  const {id} = useParams();
  const [loading, setLoading] = useState(true);
  const [Movie, setMovie] = useState(null);

  const getMovie = async() => {
    try{
      const response = await fetch(
        `https://yts.mx/api/v2/movie_details.json?movie_id=${id}`
      )
      const json = await response.json();
      setMovie(json.data.movie);
      setLoading(false)
    } catch(error){
      console.log('ì˜í™”ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤ğŸ“', error)
    }
  }
  useEffect(()=>{
    getMovie();
  },[id])

  return(
    <h1>Details Page</h1>
  )
}
export default Detail;
```
í˜„ì¬ ì‘ì„±ì¤‘ ëŒ€ë¶€ë¶„ì´ Home.jsxì™€ ìœ ì‚¬í•¨, ì°¨ì´ê°€ ìˆë‹¤ë©´ todos / todoì˜ ì°¨ì´ì¼ ë§Œí¼ ìœ ì‚¬í•œ ì½”ë“œë¼ì¸ì„ ê°€ì ¸ê°„ë‹¤ëŠ”ê²ƒ í™•ì¸ ê°€ëŠ¥

ì¦‰ ì „ì²´ í˜ì´ì§€ì—ì„œ ë‹¤ìˆ˜ì˜ ì˜í™”ë¥¼ ë³´ì—¬ì£¼ê³ , Linkë¥¼ í†µí•´ íŠ¹ì •ì•„ì´ë””ë¥¼ ê°€ì§€ê³  ì¡°íšŒë¥¼ í•˜ê²Œ ë˜ë©´ Detail í˜ì´ì§€ë¡œ ì´ë™í•˜ê²Œ ë˜ê¸° ë•Œë¬¸ì— Detailí˜ì´ì§€ ë‚´ë¶€ì—ì„œëŠ” 'í•œí¸ì˜ ì˜í™”'ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•˜ê²Œ ë¨

ê·¸ë¦¬ê³  id ê°’ì— ë”°ë¼ ê°€ì§€ê³  ì˜¤ê²Œ ë˜ëŠ” APIì˜ ì£¼ì†Œê°€ ë™ì ìœ¼ë¡œ ë°”ë€ë‹¤ëŠ” ì  ë•Œë¬¸ì— useEffect(()=> {},[]) ë¶€ë¶„ì´ Home ê³¼ Detailì´ ì‚¬ë¡œ ë‹¬ë¼ì§€ê²Œ ë¨

Homeì˜ ê²½ìš° ìµœì´ˆ ë Œë”ë§ ì‹œì—ë§Œ ì˜í™” ì „ì²´ì˜ APIë¥¼ ê°€ì§€ê³  ì˜¤ë©´ ë˜ëŠ” ë°˜ë©´, Detailì˜ ê²½ìš° í´ë¦­ì´ ì¼ì–´ë‚  ë•Œ ë§ˆë‹¤ APIë¥¼ í˜¸ì¶œí•´ì•¼í•˜ëŠ” ì ì„ ì´ìœ ë¡œ
```jsx
  useEffect(()=>{
    getMovie();
  },[id])
  ```
ì™€ ê°™ì´ ì‘ì„±í–ˆê³ , í•´ë‹¹ idë¥¼ ë°›ì•„ì˜¤ê¸° ìœ„í•´

```jsx
const {id} = useParams();
```
ì˜ ê°œë…ì´ í•„ìš”í•¨

## useParams

React Router v6ì—ì„œ ì œê³µí•˜ëŠ” custom Hook. í˜„ì¬ URLì˜ ë™ì  íŒŒë¼ë¯¸í„°(Dynamic Segment) ê°’ì„ 'ê°ì²´' í˜•íƒœë¡œ ë°˜í™˜(const{id} = useParams();)ì—ì„œ í™•ì¸

### ì‚¬ìš© ì´ìœ 

React ìƒì—ì„œ URL ê²½ë¡œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ë¶„ê¸°í•˜ê³  ì‹¶ì„ ë•Œ (SPAì—ì„œ ë²—ì–´ë‚˜ê³  ì‹¶ì„ ë•Œ) ë¼ìš°íŒ… êµ¬ì„±ì„ í†µí•´ ì´ë£¨ê²Œ ë¨

```jsx
<Route path="/movie/:id" element={<Detail />} />
```
ì´ë•Œ :id ê°€ ë™ì  íŒŒë¼ë©”í„° ì— í•´ë‹¹í•˜ëŠ”ë°, ì˜ˆë¥¼ ë“¤ì–´ /movie/1234ì— ì ‘ê·¼í•˜ë©´ 1234ê°€ id íŒŒë¼ë¯¸í„°ë¡œ ë“¤ì–´ê°€ê²Œ ë˜ê³ , ì´ ê°’ì„ useParams()ë¥¼ í†µí•´ ë°›ì•„ì˜¤ê²Œ ë¨

1. React ë³´ë¼ìƒ‰ ì‚¬ì´íŠ¸ ë³µì‚¬ í›„ ë‚´ë¶€ì˜ contentì´ë ¥ì„œ ì–‘ì‹ìœ¼ë¡œ ë°”ê¿”ë³´ê¸°
    - ì´ë ¥ì„œ ì–‘ì‹ìœ¼ë¡œ ë°”ê¾¸ê³  ì ì ˆí•œ icon / img ì°¾ì„í•„ìš” ìˆìŒ
2. 1ë§Œ ì‹œê°„ì˜ ë²•ì¹™ Vanilla JS ë° HTML CSS ë‹¤ë£¨ê¸°
    - ì •ì„ì ì´ê³  ê³ ì „ì  í˜•íƒœ HTMLì—ì„œ modern HTML í˜•íƒœ í•™ìŠµ
    - github ë°°í¬ ë˜í•œ í•™ìŠµ
3. GitHub ë¸”ë¡œê·¸ fork í•˜ì—¬ ê¸°ìˆ  ë¸”ë¡œê·¸ í™” í•˜ê¸°
    - mdíŒŒì¼ ì •ë¦¬ë˜ì–´ ìˆëŠ”ê±°
    - ê¸°ìˆ ë¸”ë¡œê·¸í™” í•˜ê¸° ìœ„í•´ ê¸°ë³¸ì  chapter / project/ ë¬¸ì œ ìƒí™©ì—ëŒ€í•œ ëŒ€ì‘ ë° ê°œë…